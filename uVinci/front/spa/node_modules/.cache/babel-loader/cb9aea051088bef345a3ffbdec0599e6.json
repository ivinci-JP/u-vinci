{"ast":null,"code":"var _jsxFileName = \"/workspaces/javascript-node/task1/u-vinci/u-vinci_draft/uVinci/front/spa/src/components/organisms/ShopDetail.jsx\",\n    _s = $RefreshSig$();\n\n// lib\nimport { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Box, Divider, Drawer, Link, Typography } from \"@material-ui/core\"; // consts\n\nimport CONSTS from \"../../constants/consts\"; // components\n\nimport ComentoesList from \"../molecules/ComentoesList\"; // stub\n\nimport uVinciAPIStub from \"../../stub/uVinciAPIStub\";\nimport authStub from \"../../stub/authStub\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShopDetail = ({\n  detailedShopId,\n  setDetailedShopId\n}) => {\n  _s();\n\n  const anchor = \"right\";\n  const [latestComentoes, setLatestComentoes] = useState([]);\n  const [shopName, setShopName] = useState();\n  const [shopAccess, setShopAccess] = useState();\n  const [shopUrl, setShopUrl] = useState();\n  const [shopTagline, setShopTagline] = useState();\n  useEffect(() => {\n    const {\n      result: {\n        name,\n        access,\n        url,\n        comentoes,\n        catch: tagline\n      } = {},\n      status\n    } = uVinciAPIStub.get(`http://${process.env.REACT_APP_API_HOSTNAME}/${CONSTS.RESTAURANTS_PATHNAME}/${detailedShopId !== null && detailedShopId !== void 0 ? detailedShopId : \"\"}`);\n    setLatestComentoes(comentoes);\n    setShopName(name);\n    setShopAccess(access);\n    setShopUrl(url);\n    setShopTagline(tagline);\n\n    if (status !== 200) {\n      alert(\"${message} /n 表示できません。何度も失敗する際は、管理者にお問い合わせください。\");\n    }\n\n    console.log({\n      status\n    });\n  }, [detailedShopId]);\n\n  const handleLike = () => {\n    const option = {\n      header: {\n        token: authStub.getToken()\n      },\n      body: {\n        user: authStub.getUser()\n      }\n    };\n    const {\n      result: {\n        comentoes: updatedComentoes\n      } = {}\n    } = uVinciAPIStub.post(`http://${process.env.REACT_APP_API_HOSTNAME}/${CONSTS.RESTAURANTS_PATHNAME}/${detailedShopId !== null && detailedShopId !== void 0 ? detailedShopId : \"\"}/${CONSTS.LIKE_PATHNAME}`, option);\n    setLatestComentoes(updatedComentoes);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Drawer, {\n    anchor: anchor,\n    id: \"shop-detail-drawer\",\n    open: detailedShopId != null && shopName != null,\n    onClose: () => setDetailedShopId(null),\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      p: CONSTS.DEFAULT_SPACE,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        mb: CONSTS.DEFAULT_SPACE,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          children: shopName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          children: shopTagline\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          children: shopAccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          display: \"block\",\n          href: shopUrl,\n          target: \"_blank\",\n          rel: \"noopener\",\n          children: shopUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        my: CONSTS.DEFAULT_SPACE,\n        children: /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(ComentoesList, {\n          handleLike: handleLike,\n          comentoes: latestComentoes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShopDetail, \"+8fCKWPDoqX53mX7L/HuJtkcrPg=\");\n\n_c = ShopDetail;\nShopDetail.propTypes = {\n  detailedShopId: PropTypes.string,\n  setDetailedShopId: PropTypes.func.isRequired\n};\nShopDetail.defaultProps = {\n  detailedShopId: null\n};\nexport default ShopDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShopDetail\");","map":{"version":3,"sources":["/workspaces/javascript-node/task1/u-vinci/u-vinci_draft/uVinci/front/spa/src/components/organisms/ShopDetail.jsx"],"names":["useEffect","useState","PropTypes","Box","Divider","Drawer","Link","Typography","CONSTS","ComentoesList","uVinciAPIStub","authStub","ShopDetail","detailedShopId","setDetailedShopId","anchor","latestComentoes","setLatestComentoes","shopName","setShopName","shopAccess","setShopAccess","shopUrl","setShopUrl","shopTagline","setShopTagline","result","name","access","url","comentoes","catch","tagline","status","get","process","env","REACT_APP_API_HOSTNAME","RESTAURANTS_PATHNAME","alert","console","log","handleLike","option","header","token","getToken","body","user","getUser","updatedComentoes","post","LIKE_PATHNAME","DEFAULT_SPACE","propTypes","string","func","isRequired","defaultProps"],"mappings":"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","sourcesContent":["// lib\nimport { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Box, Divider, Drawer, Link, Typography } from \"@material-ui/core\";\n\n// consts\nimport CONSTS from \"../../constants/consts\";\n\n// components\nimport ComentoesList from \"../molecules/ComentoesList\";\n\n// stub\nimport uVinciAPIStub from \"../../stub/uVinciAPIStub\";\nimport authStub from \"../../stub/authStub\";\n\nconst ShopDetail = ({ detailedShopId, setDetailedShopId }) => {\n  const anchor = \"right\";\n\n  const [latestComentoes, setLatestComentoes] = useState([]);\n  const [shopName, setShopName] = useState();\n  const [shopAccess, setShopAccess] = useState();\n  const [shopUrl, setShopUrl] = useState();\n  const [shopTagline, setShopTagline] = useState();\n\n  useEffect(() => {\n    const {\n      result: { name, access, url, comentoes, catch: tagline } = {},\n      status,\n    } = uVinciAPIStub.get(\n      `http://${process.env.REACT_APP_API_HOSTNAME}/${\n        CONSTS.RESTAURANTS_PATHNAME\n      }/${detailedShopId ?? \"\"}`\n    );\n\n    setLatestComentoes(comentoes);\n    setShopName(name);\n    setShopAccess(access);\n    setShopUrl(url);\n    setShopTagline(tagline);\n\n    if (status !== 200) {\n      alert(\n        \"${message} /n 表示できません。何度も失敗する際は、管理者にお問い合わせください。\"\n      );\n    }\n\n    console.log({ status });\n  }, [detailedShopId]);\n\n  const handleLike = () => {\n    const option = {\n      header: { token: authStub.getToken() },\n      body: { user: authStub.getUser() },\n    };\n\n    const { result: { comentoes: updatedComentoes } = {} } = uVinciAPIStub.post(\n      `http://${process.env.REACT_APP_API_HOSTNAME}/${\n        CONSTS.RESTAURANTS_PATHNAME\n      }/${detailedShopId ?? \"\"}/${CONSTS.LIKE_PATHNAME}`,\n      option\n    );\n\n    setLatestComentoes(updatedComentoes);\n  };\n\n  return (\n    <Drawer\n      anchor={anchor}\n      id=\"shop-detail-drawer\"\n      open={detailedShopId != null && shopName != null}\n      onClose={() => setDetailedShopId(null)}\n    >\n      <Box p={CONSTS.DEFAULT_SPACE}>\n        <Box mb={CONSTS.DEFAULT_SPACE}>\n          <Typography variant=\"h3\">{shopName}</Typography>\n          <Typography variant=\"subtitle1\">{shopTagline}</Typography>\n          <Typography variant=\"caption\">{shopAccess}</Typography>\n          <Link display=\"block\" href={shopUrl} target=\"_blank\" rel=\"noopener\">\n            {shopUrl}\n          </Link>\n        </Box>\n\n        <Box my={CONSTS.DEFAULT_SPACE}>\n          <Divider />\n        </Box>\n\n        <Box>\n          <ComentoesList handleLike={handleLike} comentoes={latestComentoes} />\n        </Box>\n      </Box>\n    </Drawer>\n  );\n};\n\nShopDetail.propTypes = {\n  detailedShopId: PropTypes.string,\n  setDetailedShopId: PropTypes.func.isRequired,\n};\n\nShopDetail.defaultProps = {\n  detailedShopId: null,\n};\n\nexport default ShopDetail;\n"]},"metadata":{},"sourceType":"module"}